filename = "marks.txt"

total_marks = 0
valid_count = 0
invalid_count = 0

try:
    with open(filename, "r") as file:
        lines = file.readlines()
        if len(lines) == 0:
            raise ValueError("File is empty.")

        print(" Student Marks:\n")
        for line in lines:
            line = line.strip()
            
            if not line:
                invalid_count += 1
                continue

            try:
                parts = line.split(",")
                if len(parts) != 2:
                    raise ValueError("Incorrect file format")

                name = parts[0].strip()
                marks = int(parts[1].strip())
                
                if marks < 0:
                    raise ValueError("Marks cannot be negative")
                
                print(name, ":", marks)
                total_marks += marks
                valid_count += 1

            except (ValueError, IndexError):
                print("Invalid record skipped ->", line)
                invalid_count += 1

        if valid_count > 0:
            average = total_marks / valid_count
            print("\nüìä Average Marks:", average)
        else:
            print("\nNo valid records found. Cannot calculate average.")

        print("\n‚úÖ Valid records:", valid_count)
        print("‚ùå Invalid records:", invalid_count)

except FileNotFoundError:
    print("Error: File not found.")

except ValueError as e:
    print("Error:", e)

except Exception:
    print("Something went wrong.")
